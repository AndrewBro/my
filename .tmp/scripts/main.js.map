{"version":3,"sources":["main.js"],"names":["e","t","n","r","s","o","u","a","require","i","Error","f","exports","call","length","module","angular","component","bindings","movie","templateUrl","onSearch","controllerAs","controller","Controller","$inject","postsService","vm","movies","title","search","text","year","undefined","getMovies","then","resp","data","Search","getEachMovie","list","forEach","index","getFullMovie","imdbID","service","Service","$http","get","params","y","plot"],"mappings":"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","file":"main.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error(\"Cannot find module '\"+o+\"'\")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\nangular.module('myApp')\n  .component('movieBlock', {\n    bindings: {\n      movie: '<'\n    },\n    templateUrl: '/scripts/components/movie-block/movie-block.html',\n  });\n\n\n},{}],2:[function(require,module,exports){\nangular.module('myApp')\n  .component('searchBar', {\n    bindings: {\n      onSearch: '&'\n    },\n    templateUrl: '/scripts/components/search-bar/search-bar.html',\n    controllerAs: 'ctrl'\n  });\n\n\n\n},{}],3:[function(require,module,exports){\nangular.module('myApp')\n  .component('searchPage', {\n    templateUrl: '/scripts/components/search-page/search-page.html',\n    controller: Controller,\n    controllerAs: 'vm'\n  });\n\nController.$inject = ['postsService'];\n\n////////////\nangular.module('ngMessagesExample', ['ngMessages']);\n\nfunction Controller(postsService) {\n  const vm = this;\n  vm.movies = [];\n  vm.title = '';\n\n  vm.search = function (text, year) {\n\n    if(text === undefined && vm.title === '') {\n\n    }\n    vm.title = (text === undefined && vm.title !== '') ? vm.title :  'Comedy';\n\n\n    // vm.title = text || vm.title;\n\n    postsService.getMovies(vm.title, year)\n      .then(function (resp) {\n        vm.movies = resp.data.Search;\n        getEachMovie(vm.movies);\n        // console.log(vm.search)\n      });\n\n  };\n\n  function getEachMovie(list) {\n\n    list.forEach(function (movie, index) {\n      postsService.getFullMovie(movie.imdbID)\n        .then(function (resp) {\n          vm.movies[index] = resp.data;\n          // vm.movies[index].isDataLoaded = true;\n        })\n    });\n  }\n\n  // vm.search('2016'); // todo remove\n}\n\n},{}],4:[function(require,module,exports){\nangular.module('myApp', []);\n\nrequire ('./services/posts');\nrequire ('./components/search-page/search-page');\nrequire ('./components/search-bar/search-bar');\nrequire ('./components/movie-block/movie-block');\n\n},{\"./components/movie-block/movie-block\":1,\"./components/search-bar/search-bar\":2,\"./components/search-page/search-page\":3,\"./services/posts\":5}],5:[function(require,module,exports){\nangular.module('myApp')\n  .service('postsService', Service);\n\nService.$inject = ['$http'];\n\nfunction Service($http) {\n\n  this.getMovies = function (text, year) {\n    return $http.get('http://www.omdbapi.com/', {\n      params: {\n        y: year,\n        s: text\n      },\n    })\n  };\n\n\n  this.getFullMovie = function (imdbID) {\n    return $http.get('http://www.omdbapi.com/', {\n      params: {\n        i: imdbID\n      },\n      plot: 'full'\n    });\n  }\n}\n\n},{}]},{},[4])"]}